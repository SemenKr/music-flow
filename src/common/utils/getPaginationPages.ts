const SIBLING_COUNT = 1 // ๐ ะะพะปะธัะตััะฒะพ ัะพัะตะดะฝะธั ัััะฐะฝะธั ัะปะตะฒะฐ ะธ ัะฟัะฐะฒะฐ ะพั ัะตะบััะตะน

/**
 * ๐ ะะตะฝะตัะธััะตั ะผะฐััะธะฒ ัััะฐะฝะธั ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะฟะฐะณะธะฝะฐัะธะธ ั ะผะฝะพะณะพัะพัะธัะผะธ
 * @param currentPage - ัะตะบััะฐั ะฐะบัะธะฒะฝะฐั ัััะฐะฝะธัะฐ
 * @param pagesCount - ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ ัััะฐะฝะธั
 * @returns ะผะฐััะธะฒ ะฝะพะผะตัะพะฒ ัััะฐะฝะธั ะธ/ะธะปะธ '...'
 */
export const getPaginationPages = (
    currentPage: number,
    pagesCount: number
): (number | '...')[] => {
    // ๐ซ ะัะปะธ ัััะฐะฝะธั 0 ะธะปะธ 1 โ ะฟะฐะณะธะฝะฐัะธั ะฝะต ะฝัะถะฝะฐ
    if (pagesCount <= 1) return []

    const pages: (number | '...')[] = []

    // ๐ ะะฟัะตะดะตะปัะตะผ ะณัะฐะฝะธัั ะดะธะฐะฟะฐะทะพะฝะฐ ะฒะพะบััะณ ัะตะบััะตะน ัััะฐะฝะธัั
    // ะะธะฝะธะผัะผ โ 2, ััะพะฑั ะฝะต ะดัะฑะปะธัะพะฒะฐัั ะฟะตัะฒัั ัััะฐะฝะธัั
    const leftSibling = Math.max(2, currentPage - SIBLING_COUNT)

    // ะะฐะบัะธะผัะผ โ pagesCount - 1, ััะพะฑั ะฝะต ะดัะฑะปะธัะพะฒะฐัั ะฟะพัะปะตะดะฝัั ัััะฐะฝะธัั
    const rightSibling = Math.min(pagesCount - 1, currentPage + SIBLING_COUNT)

    // ๐น ะัะตะณะดะฐ ะดะพะฑะฐะฒะปัะตะผ ะฟะตัะฒัั ัััะฐะฝะธัั
    pages.push(1)

    // โฌ๏ธ ะะพะฑะฐะฒะปัะตะผ ะผะฝะพะณะพัะพัะธะต, ะตัะปะธ ะตััั ะฟัะพะฟััะบ ะผะตะถะดั 1 ะธ ะปะตะฒัะผ ะดะธะฐะฟะฐะทะพะฝะพะผ
    if (leftSibling > 2) {
        pages.push('...')
    }

    // ๐ข ะะพะฑะฐะฒะปัะตะผ ัััะฐะฝะธัั ะฒะพะบััะณ ัะตะบััะตะน
    for (let page = leftSibling; page <= rightSibling; page++) {
        pages.push(page)
    }

    // โก๏ธ ะะพะฑะฐะฒะปัะตะผ ะผะฝะพะณะพัะพัะธะต, ะตัะปะธ ะตััั ะฟัะพะฟััะบ ะฟะตัะตะด ะฟะพัะปะตะดะฝะตะน ัััะฐะฝะธัะตะน
    if (rightSibling < pagesCount - 1) {
        pages.push('...')
    }

    // ๐น ะัะตะณะดะฐ ะดะพะฑะฐะฒะปัะตะผ ะฟะพัะปะตะดะฝัั ัััะฐะฝะธัั (ะตัะปะธ ะธั ะฑะพะปััะต ะพะดะฝะพะน)
    pages.push(pagesCount)

    return pages
}
